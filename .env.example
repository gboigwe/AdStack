# AdStack Environment Configuration Example
# Copy this file to .env and update with your actual values

# ===========================================
# APPLICATION
# ===========================================
NODE_ENV=development
PORT=3000
API_URL=http://localhost:3000
FRONTEND_URL=http://localhost:3001

# ===========================================
# DATABASE
# ===========================================
DATABASE_URL=postgresql://username:password@localhost:5432/adstack_db
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_SSL=false

# ===========================================
# STACKS BLOCKCHAIN
# ===========================================
STACKS_NETWORK=testnet
STACKS_API_URL=https://stacks-node-api.testnet.stacks.co

# Contract Addresses (update after deployment)
CONTRACT_SUBSCRIPTION_MANAGER=ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.subscription-manager
CONTRACT_RECURRING_PAYMENT=ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.recurring-payment-processor
CONTRACT_SUBSCRIPTION_BENEFITS=ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.subscription-benefits-manager

# Deployer wallet (for contract deployment and admin functions)
DEPLOYER_MNEMONIC=your mnemonic phrase here
DEPLOYER_WALLET_INDEX=0

# ===========================================
# AUTHENTICATION
# ===========================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRATION=7d

# ===========================================
# RATE LIMITING
# ===========================================
RATE_LIMIT_FREE_TIER=100
RATE_LIMIT_BASIC_TIER=1000
RATE_LIMIT_PRO_TIER=10000
RATE_LIMIT_ENTERPRISE_TIER=100000
RATE_LIMIT_WINDOW=3600

# ===========================================
# EMAIL SERVICE
# ===========================================
EMAIL_PROVIDER=sendgrid
EMAIL_API_KEY=your-sendgrid-api-key
EMAIL_FROM=noreply@adstack.io
EMAIL_FROM_NAME=AdStack

# SMTP (alternative to SendGrid)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-password
# SMTP_SECURE=false

# ===========================================
# PAYMENT PROCESSING
# ===========================================
# Stripe (for fiat payments)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Payment retry configuration
PAYMENT_MAX_RETRIES=3
PAYMENT_RETRY_DELAY=86400
GRACE_PERIOD_DAYS=7

# ===========================================
# SUBSCRIPTION SETTINGS
# ===========================================
# Default subscription tier for new users
DEFAULT_TIER=free

# Proration settings
ENABLE_PRORATION=true
PRORATION_BEHAVIOR=create_prorations

# Cancellation settings
CANCEL_AT_PERIOD_END_DEFAULT=false
REQUIRE_CANCELLATION_REASON=true

# ===========================================
# USAGE TRACKING
# ===========================================
# Usage tracking interval (in seconds)
USAGE_SYNC_INTERVAL=3600

# Usage alert thresholds (percentage)
USAGE_ALERT_THRESHOLD_1=75
USAGE_ALERT_THRESHOLD_2=90
USAGE_ALERT_THRESHOLD_3=100

# ===========================================
# CACHING
# ===========================================
# Redis (for production caching)
REDIS_URL=redis://localhost:6379
REDIS_TTL=3600

# In-memory cache settings (development)
CACHE_TTL=3600
CACHE_MAX_ITEMS=1000

# ===========================================
# MONITORING & LOGGING
# ===========================================
LOG_LEVEL=info
LOG_FORMAT=json

# Sentry (error tracking)
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=development

# Analytics
ANALYTICS_ENABLED=true
ANALYTICS_PROVIDER=mixpanel
ANALYTICS_TOKEN=your-mixpanel-token

# ===========================================
# WEBHOOKS
# ===========================================
WEBHOOK_SECRET=your-webhook-secret-key
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_TIMEOUT=10000

# ===========================================
# FEATURE FLAGS
# ===========================================
FEATURE_SUBSCRIPTION_ENABLED=true
FEATURE_USAGE_TRACKING_ENABLED=true
FEATURE_INVOICING_ENABLED=true
FEATURE_PAYMENT_RETRY_ENABLED=true
FEATURE_EMAIL_NOTIFICATIONS_ENABLED=true
FEATURE_WEBHOOKS_ENABLED=true

# ===========================================
# SECURITY
# ===========================================
# CORS
CORS_ORIGIN=http://localhost:3001
CORS_CREDENTIALS=true

# API Security
API_KEY_HEADER=X-API-Key
API_KEY_REQUIRED=false

# Session
SESSION_SECRET=your-session-secret-key
SESSION_MAX_AGE=86400000

# ===========================================
# THIRD-PARTY INTEGRATIONS
# ===========================================
# KYC/Compliance (for publisher verification)
KYC_PROVIDER=onfido
KYC_API_KEY=your-onfido-api-key

# IPFS (for document storage)
IPFS_GATEWAY=https://ipfs.io
IPFS_API_URL=https://api.pinata.cloud

# ===========================================
# DEVELOPMENT
# ===========================================
# Enable debug mode
DEBUG=false

# Enable API documentation
ENABLE_API_DOCS=true

# Enable seed data
ENABLE_SEED_DATA=true

# Mock external services
MOCK_PAYMENT_PROCESSOR=true
MOCK_EMAIL_SERVICE=true
MOCK_BLOCKCHAIN=false
